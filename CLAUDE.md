# Brock's Neovim Configuration

## Overview
This is a comprehensive Neovim configuration focused on productivity, database work, and development tasks. The setup uses Packer for plugin management and follows a modular structure with specialized configurations for different workflows.

## Structure
```
~/.config/nvim/
 init.lua                    # Entry point - requires first/init.lua
 lua/first/
    init.lua               # Loads remap.lua and set.lua  
    packer.lua             # Plugin definitions
    set.lua                # Core editor settings
    remap.lua              # Custom keymaps and cheat sheet
 after/plugin/              # Plugin-specific configurations
 plugin/
     packer_compiled.lua    # Auto-generated by Packer
```

## Key Features

### Core Setup
- **Leader Key**: `<Space>`
- **Theme**: Rose-pine with transparent background for terminal integration
- **Package Manager**: Packer
- **No LSP/Completion**: This config focuses on editor functionality without language server features

### Editor Settings (`lua/first/set.lua`)
- Line numbers (absolute + relative)
- 4-space indentation with smart indent
- No swap files, persistent undo history in `~/.vim/undodir`
- Case-insensitive search, no search highlighting
- Terminal colors, 8-line scroll offset
- Clipboard integration with system clipboard
- Treesitter-based folding with all folds open by default

### Navigation & File Management
- **Telescope**: Fuzzy finder with extensive directory shortcuts
- **Neo-tree**: File explorer with auto-open, git integration
- **Harpoon v2**: Multi-list project navigation with persistent modes
- **Undotree**: Visual undo history

### Data & Database Tools
- **DuckDB Integration**: Pre-configured connection to `~/pds/utils/_pds.duckdb`
- **Rainbow CSV**: Advanced CSV file handling and manipulation
- **Database UI**: vim-dadbod-ui for database exploration

### Git & Development
- **LazyGit**: Integrated terminal git interface
- **Diffview**: Advanced diff viewing and management
- **Todo Comments**: Enhanced TODO tracking with custom keywords

## Plugin List

### Essential Plugins
- `wbthomason/packer.nvim` - Package manager
- `nvim-telescope/telescope.nvim` - Fuzzy finder
- `nvim-neo-tree/neo-tree.nvim` - File explorer
- `ThePrimeagen/harpoon` (v2) - Project navigation
- `mbbill/undotree` - Undo history visualization

### Language & Syntax
- `nvim-treesitter/nvim-treesitter` - Syntax highlighting and folding
  - Parsers: html, python, bash, yaml, toml, ini, sql, c, lua, vim, markdown
- `MeanderingProgrammer/render-markdown.nvim` - Enhanced markdown rendering

### Database & Data
- `tpope/vim-dadbod` - Database interface
- `kristijanhusak/vim-dadbod-ui` - Database UI
- `kristijanhusak/vim-dadbod-completion` - Database completion
- `cameron-wags/rainbow_csv.nvim` - CSV handling

### Git & Version Control
- `kdheepak/lazygit.nvim` - LazyGit integration
- `sindrets/diffview.nvim` - Advanced diff views

### UI & Interface
- `rose-pine/neovim` - Theme
- `akinsho/bufferline.nvim` - Enhanced buffer line
- `folke/todo-comments.nvim` - TODO highlighting

### Utilities
- `nvim-lua/plenary.nvim` - Common utilities (required by many plugins)

## Key Bindings Cheat Sheet

### Core Navigation
| Key | Action |
|-----|--------|
| `<Space>` | Leader key |
| `<Esc>` (terminal) | Exit terminal mode |

### Insert Mode Navigation (Programmable Keyboard ~ Option + hjkl)
| Key | Action |
|-----|--------|
| `Option+h` | Move left |
| `Option+j` | Move down |
| `Option+k` | Move up |
| `Option+l` | Move right |

### File & Project Navigation
| Key | Action |
|-----|--------|
| `<leader>pf` | Find files (Telescope) |
| `<C-p>` | Git files (Telescope) |
| `<leader>ps` | Grep search (Telescope) |
| `<leader>s` | Live grep |
| `<leader>pv` | Open NetRW file explorer |
| `<leader>e` | Toggle Neo-tree |
| `<leader>f` | Focus Neo-tree |

### Directory Shortcuts (Telescope)
| Key | Action |
|-----|--------|
| `<leader>pof` | Find files in `~/OTS/ods` |
| `<leader>pif` | Find files in `~/pds/utils/sql_codebases` |
| `<leader>puf` | Find files in `~/pds/personal/upgrade` |
| `<leader>pos` | Live grep in ODS directory |
| `<leader>pis` | Live grep in IDR directory |
| `<leader>pus` | Live grep in upgrade directory |

### Quick Access
| Key | Action |
|-----|--------|
| `<leader>1` | Navigate to `~/pds` in Neo-tree |
| `<leader>2` | Navigate to `~/.config/nvim` in Neo-tree |

### Git & External Tools
| Key | Action |
|-----|--------|
| `<leader>gg` | Open LazyGit in new tab |
| `<leader>do` | Open Diffview |
| `<leader>dc` | Close Diffview |
| `<leader>dn` | Enable diff for current buffer |
| `<leader>dm` | Disable diff for current buffer |
| `<leader>dk` | Disable diff for all buffers |

### Database & Data Tools
| Key | Action |
|-----|--------|
| `<leader>dd` | New DB query with LIMIT 10 template |
| `<leader>db` | Create new DB query in vertical split |
| `<leader>dbt` | Toggle Database UI |
| `<leader><CR>` (in SQL buffer) | Execute SQL query |
| `<leader>rd` | Rainbow delimiter (CSV) |
| `<leader>rl` | Rainbow lint (CSV) |
| `<leader>ra` | Rainbow align (CSV) |
| `<leader>rs` | Rainbow shrink (CSV) |

### Harpoon Navigation
| Key | Action |
|-----|--------|
| `<leader>ha` | Add file to current harpoon list |
| `<leader>hm` | Toggle harpoon menu |
| `<leader>hn` | Show available harpoon lists (switches to default menu) |
| `<leader>hl1` | Switch to default list |
| `<leader>hl2` | Switch to IA_ADMIN Report list |
| `<leader>hl3` | Switch to ICRP Security list |
| `<leader>hl4` | Switch to Missing Metadata FKs list |
| `<leader>hl5` | Switch to DegreeWorks list |
| `<leader>hl6` | Switch to RClone Dist list |
| `<leader>hl7` | Switch to Claude DuckDB list |
| `<leader>hl8` | Switch to Finances list |
| `<leader>hl9` | Switch to Workouts list |

### Buffer & Window Management
| Key | Action |
|-----|--------|
| `<Tab>` | Next buffer |
| `<S-Tab>` | Previous buffer |
| `<leader>bd` | Close buffer (smart) |
| `<leader>D` | Delete all buffers |
| `<leader>wc` | Close window |
| `<leader>wh/j/k/l` | Navigate windows |
| `<leader>wn` | Open todo in new split |
| `<leader>w<arrows>` | Resize windows |

### Terminal Management
| Key | Action |
|-----|--------|
| `<leader>tm` | New terminal |
| `<leader>tb` | Terminal in bottom split |
| `<leader>rt` | Jump to terminal buffer |
| `<leader>c` | Open Claude Code in current file's directory |

### Utilities & Toggles
| Key | Action |
|-----|--------|
| `<leader>wr` | Toggle word wrap |
| `<leader>u` | Toggle Undotree |
| `<leader>tt` | Open Todo Telescope |
| `<leader>y` | Yank word under cursor |
| `<leader>p` | Replace word with paste |
| `<Cmd-v>` (cmd mode) | Paste from clipboard |

### Timer Controls
| Key | Action |
|-----|--------|
| `<leader>t5` | Start 5-minute timer |
| `<leader>t15` | Start 15-minute timer |
| `<leader>t25` | Start 25-minute Pomodoro timer |
| `<leader>tc` | Start custom timer (prompts for minutes) |
| `<leader>ts` | Stop timer |

### Treesitter Folding (Built-in Vim)
| Key | Action |
|-----|--------|
| `za` | Toggle fold under cursor |
| `zR` | Open all folds |
| `zM` | Close all folds |
| `zo` | Open fold under cursor |
| `zc` | Close fold under cursor |
| `zr` | Reduce fold level (open one level) |
| `zm` | More folding (close one level) |

## Special Features

### Harpoon Multi-List System
- **Persistent modes**: Current harpoon list mode survives Neovim restarts
- **Nine project lists**: 
  - default (acts as menu)
  - IA_ADMIN Report
  - ICRP Security  
  - Missing Metadata FKs
  - DegreeWorks
  - RClone Dist
  - Claude DuckDB
  - Finances
  - Workouts
- **List switching**: Default list acts as a menu to switch between project lists
- **Auto-open behavior**: Switching to a non-default list automatically opens all files in that list
- **Bufferline integration**: Shows current harpoon mode and timer status in the bufferline

### Database Workflow
- **DuckDB connection**: Pre-configured to `~/pds/utils/_pds.duckdb`
- **Query templates**: Both `<leader>dd` and `<leader>db` create SQL buffers with LIMIT 10 templates
- **Query execution**: `<leader><CR>` executes queries in SQL buffers (whole buffer or visual selection)
- **Database UI**: Full database exploration interface via `<leader>dbt`
- **Direct query creation**: `<leader>db` creates a vertical split with immediate SQL buffer setup

### Claude Code Integration
- **Directory-aware terminal**: `<leader>c` opens Claude Code in current file's directory
- **Smart terminal launching**: Automatically navigates to file context

### Auto-behaviors
- **Neo-tree auto-open**: Opens when Neovim starts with no file arguments
- **Transparent theme**: Rose-pine with transparent background for terminal integration
- **Smart buffer closing**: Preserves window layout when closing buffers
- **Timer integration**: Global timer system with visual feedback in bufferline
- **Persistent harpoon modes**: Harpoon list selection survives Neovim restarts

## Questions for Configuration

To help you make the most of this configuration, I have a few questions:

1. **LSP Setup**: I noticed you don't have LSP (Language Server Protocol) configured. Would you like me to add LSP support for any specific languages you work with (Python, JavaScript, etc.)?

2. **Completion**: Similarly, there's no autocompletion setup. Would you like me to add nvim-cmp for autocompletion?

3. **Directory Structure**: I see you have specific directory shortcuts for:
   - `~/OTS/ods` 
   - `~/pds/utils/sql_codebases`
   - `~/pds/personal/upgrade`
   
   Are these the main directories you work in? Should I add any others?

4. **Harpoon Lists**: You have 4 harpoon lists configured (default, Metadata, CFM Additions, IOET ReLOAD Vetting). Do these match your current project workflow, or would you like to modify them?

5. **Database Setup**: The config is set up for DuckDB at `~/pds/utils/_pds.duckdb`. Do you work with other databases that should be configured?

6. **Testing Integration**: Would you like me to add testing framework integration (like running tests from within Neovim)?

7. **Additional Tools**: Any other tools or workflows you'd like integrated into your Neovim setup?

## Maintenance Notes

- **Plugin updates**: Run `:PackerUpdate` to update plugins
- **Plugin compilation**: Run `:PackerCompile` if you modify plugin configurations
- **Treesitter parsers**: Run `:TSUpdate` to update syntax parsers
- **Harpoon persistence**: Mode is stored in `~/.local/share/nvim/harpoon_mode.txt`
